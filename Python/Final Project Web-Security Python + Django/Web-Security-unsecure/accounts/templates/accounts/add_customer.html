<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>System Screen - Comunication_LTD</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<style>
		body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
		.container { max-width: 800px; }
		.form-container { background: #f8f9fa; padding: 30px; border-radius: 10px; margin-bottom: 30px; }
		.customers-list { background: white; padding: 20px; border-radius: 10px; }
	</style>
</head>
<body>
	<div class="container mt-5">
		<h1 class="text-center mb-4">Comunication_LTD - System Screen</h1>
		
		{% if messages %}
			{% for message in messages %}
				<div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
					{{ message }}
					<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
				</div>
			{% endfor %}
		{% endif %}

		<div class="form-container">
			<h3>Add New Customer</h3>
			<form method="post">
				{% csrf_token %}
				<div class="row">
					<div class="col-md-6 mb-3">
						<label for="{{ form.first_name.id_for_label }}" class="form-label">First Name</label>
						{{ form.first_name }}
						{% if form.first_name.errors %}
							<div class="text-danger">{{ form.first_name.errors }}</div>
						{% endif %}
					</div>
					<div class="col-md-6 mb-3">
						<label for="{{ form.last_name.id_for_label }}" class="form-label">Last Name</label>
						{{ form.last_name }}
						{% if form.last_name.errors %}
							<div class="text-danger">{{ form.last_name.errors }}</div>
						{% endif %}
					</div>
				</div>
				<div class="row">
					<div class="col-md-6 mb-3">
						<label for="{{ form.email.id_for_label }}" class="form-label">Email</label>
						{{ form.email }}
						{% if form.email.errors %}
							<div class="text-danger">{{ form.email.errors }}</div>
						{% endif %}
					</div>
					<div class="col-md-6 mb-3">
						<label for="{{ form.phone.id_for_label }}" class="form-label">Phone</label>
						{{ form.phone }}
						{% if form.phone.errors %}
							<div class="text-danger">{{ form.phone.errors }}</div>
						{% endif %}
					</div>
				</div>
				<div class="mb-3">
					<label for="{{ form.address.id_for_label }}" class="form-label">Address</label>
					{{ form.address }}
					{% if form.address.errors %}
						<div class="text-danger">{{ form.address.errors }}</div>
					{% endif %}
				</div>
				<button type="submit" class="btn btn-primary">Add Customer</button>
			</form>
		</div>

		<div class="customers-list">
			<h3>Customers</h3>
			{% if customers %}
				<div class="table-responsive">
					<table class="table table-striped">
						<thead>
							<tr>
								<th>First Name</th>
								<th>Last Name</th>
								<th>Email</th>
								<th>Phone</th>
								<th>Created At</th>
							</tr>
						</thead>
						<tbody>
							{% for customer in customers %}
							<tr>
								<td>{{ customer.first_name|safe }}</td>
								<td>{{ customer.last_name|safe }}</td>
								<td>{{ customer.email }}</td>
								<td>{{ customer.phone|safe }}</td>
								<td>{{ customer.created_at|date:"d/m/Y H:i" }}</td>
							</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			{% else %}
				<p class="text-muted">No customers yet.</p>
			{% endif %}
		</div>

		<div class="text-center mt-4">
			<a href="{% url 'change_password' %}" class="btn btn-warning me-2">Change Password</a>
			<a href="{% url 'login' %}" class="btn btn-secondary">Back to Login</a>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
